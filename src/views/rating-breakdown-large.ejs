<div class="row border-top border-bottom breakdown-section">
  <div class="col-12 col-lg-2">
    Score Breakdown:
  </div>

  <% for (const categoryName in ratingBreakdown) { %>
    <div class="col-12 col-lg-2">
      <a
        class="rating-breakdown-link"
        data-toggle="collapse-no-animate"
        data-target="#rating-breakdown-<%- categoryName -%>"
        href="#">
        <%- CATEGORY_DESCRIPTIONS[categoryName] %>
      </a>
    </div>
  <% } %>
</div>

<div id="rating-breakdowns">
  <% let i = 0; %>
  <% let offsets = [1, 3, 5, 7, 8]; %>
  <% for (const categoryName in ratingBreakdown) { %>
    <div
      class="row collapse-no-animate breakdown-section"
      data-parent="#rating-breakdowns"
      id="rating-breakdown-<%- categoryName -%>">
      <div class="col-12 col-lg-4 offset-lg-<%- offsets[i] %>">
        <% for (const ratingValue of [5, 4, 3, 2, 1]) { %>
          <div class="row">
            <div class="col-3 text-right">
              <%- ratingValue %>
              <img src="/static/star-highlight-small.png" class="indicator" />
            </div>

            <div class="col-6">
              <div class="percentage-bar-background">
                <div
                  class="percentage-bar"
                  style="width: <%- ratingBreakdown[categoryName][ratingValue].percentage -%>%;">
                </div>
              </div>
            </div>

            <div class="col-3">
              <span class="small">
                <% const {count} = ratingBreakdown[categoryName][ratingValue]; %>
                <%- pluralize('vote', count, true) -%>
              </span>
            </div>
          </div>
        <% } %>
      </div>
    </div>
    <% i++; %>
  <% } %>
</div>
